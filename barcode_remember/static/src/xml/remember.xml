<?xml version="1.0" encoding="UTF-8" ?>
<templates>

    <t t-inherit="stock_barcode.stock_barcode_header_widget" t-inherit-mode="extension">
        <xpath expr="//button[hasclass('o_show_information')]" position="attributes">
            <attribute name="class" remove="mr-4" add="mr-2" separator=" "></attribute>
        </xpath>
        <xpath expr="//nav[last()]" position="before">
            <div class="d-flex mx-1" t-if="widget.useWarningFunc">
                <span class="barcode-remember-info" t-attf-title="{{widget.includeGift ? 'Included' : ''}} Gift">
                    <i t-attf-class="fa fa-heart{{!widget.includeGift ? '-o' : ''}}"/>
                </span>
                <span class="barcode-remember-info" t-attf-title="{{widget.includeLangWarning ? 'Included' : ''}} Warning">
                    <i t-attf-class="fa fa-file{{!widget.includeWarning ? '-o' : ''}}"/>
                </span>
            </div>
        </xpath>
    </t>

    <t t-inherit="stock_barcode.stock_barcode_lines_template" t-inherit-mode="extension">
        <xpath expr="//div[hasclass('o_barcode_line_details')]" position="inside">
            <div class="barcode-remember-options">
                <div t-if="line.is_gift_product" title="Gift">
                    <i class="fa fa-fw fa-gift"/>
                </div>
                <div t-if="line.is_lang_warning_product" title="Language Warning">
                    <i class="fa fa-fw fa-file"/>
                </div>
            </div>
        </xpath>
    </t>

    <t t-name="barcode_remember.PackageWeightDialog" owl="1">
        <Dialog title="'Package Weight'"
                contentClass="'barcode-remember-dialog-content'"
                fullscreen="true"
                size="'medium'"
                t-on-dialog-closed="onClose">
            <table class="table table-bordered">
                <tr>
                    <th width="40%">Name</th>
                    <th width="30%" class="text-center">Expected</th>
                    <th width="30%">Actual</th>
                </tr>
                <tr t-foreach="state.packageList" t-as="packageId" t-key="packageId.id">
                    <td t-esc="packageId.name"/>
                    <td class="text-center">
                        <t t-esc="packageId.weight"/> <t t-esc="packageId.weight_uom_name"/>
                    </td>
                    <td>
                        <div class="d-flex flex-row">
                            <input t-model.number="packageId.shipping_weight"
                                   type="number"
                                   step="0.001"
                                   min="0"
                                   class="o_input"
                                   style="outline: none;"/>
                            <span class="ml-1 mt-1" t-esc="packageId.weight_uom_name"/>
                        </div>
                    </td>
                </tr>
                <t t-set-slot="buttons">
                    <button class="btn btn-secondary" t-on-click="onClose">Cancel</button>
                    <button class="btn btn-primary" t-on-click="onSave">Validate</button>
                </t>
            </table>
        </Dialog>
    </t>

    <t t-name="barcode_remember.PackageTypeDialog" owl="1">
        <Dialog title="'Type of Package is correct?'"
                fullscreen="true"
                size="'medium'"
                contentClass="'barcode-remember-dialog-content'"
                t-on-dialog-closed="onClose">
            <table class="table table-bordered">
                <tr>
                    <th>Package</th>
                    <th>Type</th>
                </tr>
                <tr t-foreach="state.packageList" t-as="item" t-key="item.id">
                    <td t-esc="item.name"/>
                    <td>
                        <select class="o_input" t-model.number="item.packagingID">
                            <option value="0"/>
                            <t t-foreach="state.packagingList" t-as="packaging" t-key="'packaging_' + packaging">
                                <option t-att-value="packaging.id" t-esc="packaging.name"/>
                            </t>
                        </select>
                    </td>
                </tr>
            </table>
            <t t-set-slot="buttons">
                <button class="btn btn-secondary" t-on-click="onClose">Cancel</button>
                <button class="btn btn-primary" t-on-click="onSave">Confirm</button>
            </t>
        </Dialog>
    </t>

</templates>